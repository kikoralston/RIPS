

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Thermal Deratings &mdash; CE/UCED under climate change  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Main Scripts" href="../Main%20Scripts/index.html" />
    <link rel="prev" title="Setup Fleet" href="../Setup%20Fleet/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> CE/UCED under climate change
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../example.html">Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Input%20data/index.html">Input data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GAMS/index.html">GAMS utility functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Parameters/index.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Renewables/index.html">Renewables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Demand/index.html">Electricity demand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Setup%20Fleet/index.html">Setup Fleet</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Thermal Deratings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Main%20Scripts/index.html">Main Scripts</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CE/UCED under climate change</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Thermal Deratings</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Thermal deratings/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="thermal-deratings">
<span id="id1"></span><h1>Thermal Deratings<a class="headerlink" href="#thermal-deratings" title="Permalink to this headline">¶</a></h1>
<p>The thermal deratings modules includes all functions used to simulate capacity deratings of thermal generators (existing or hypothetical).</p>
<p>This modules uses data from climate models (in netcdf format); hydrological simulations from the VIC, RBM, and MOSART-WM models (netcdf format);
and the pre-defined parameters of the operating response functions of thermal generators to ambient conditions (in json format).</p>
<p>While these functions were implemented within the CE/UCED simulation models, they can be called separately from the main model in order
to just compute spatially- and temporally differentiated thermal deratings of existing or hypothetical thermal power plants.</p>
<span class="target" id="module-thermalderatings.CalculateHourlyCapacsWithCurtailments"></span><dl class="py function">
<dt id="thermalderatings.CalculateHourlyCapacsWithCurtailments.calculateHourlyCapacsWithCurtailments">
<code class="sig-name descname">calculateHourlyCapacsWithCurtailments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">genFleet</span></em>, <em class="sig-param"><span class="n">hrlyCurtailmentsAllGensInTgtYr</span></em>, <em class="sig-param"><span class="n">currYear</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CalculateHourlyCapacsWithCurtailments.calculateHourlyCapacsWithCurtailments" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute hourly available capacity in MW after deratings for existing fleet</p>
<p>This function uses the capacity deratings in % of capacity computed by function <code class="xref py py-func docutils literal notranslate"><span class="pre">determineHrlyCurtailmentsForExistingGens()</span></code>
and computes time series of available capacity (in MW) for all generators in the fleet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>genFleet</strong> – 2d list with Generation Fleet data matrix</p></li>
<li><p><strong>hrlyCurtailmentsAllGensInTgtYr</strong> – dict mapping each gen to 2d list of datetime for year of run to hourly net capacity curtailments (fraction of total capacity)</p></li>
<li><p><strong>currYear</strong> – integer representing year being simulated</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(dict) a dictionary {gcm: {gen symbol: [hourly available capacity in MW]}}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CalculateHourlyCapacsWithCurtailments.subtractCurtailmentsFromCapac">
<code class="sig-name descname">subtractCurtailmentsFromCapac</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hrlyCurtailments</span></em>, <em class="sig-param"><span class="n">capac</span></em>, <em class="sig-param"><span class="n">genSymbol</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CalculateHourlyCapacsWithCurtailments.subtractCurtailmentsFromCapac" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes net available capacity (in MW) of individual generator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hrlyCurtailments</strong> – list with hourly curtailments for generator in current year (fraction of total capacity)</p></li>
<li><p><strong>capac</strong> – capacity with generator (MW)</p></li>
<li><p><strong>genSymbol</strong> – string with generator symbol (ORIS+UNIT)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of Hourly curtailments in MW</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CalculateHourlyCapacsWithCurtailments.calculateHourlyTechCapacsWithCurtailments">
<code class="sig-name descname">calculateHourlyTechCapacsWithCurtailments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">newTechsCE</span></em>, <em class="sig-param"><span class="n">hrlyCurtailmentsAllTechsInTgtYr</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">ptCurtailedAll</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CalculateHourlyCapacsWithCurtailments.calculateHourlyTechCapacsWithCurtailments" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute hourly available capacity of new thermal generators</p>
<p>This function uses the capacity deratings in % of capacity computed by function <code class="xref py py-func docutils literal notranslate"><span class="pre">ModifyNewTechCapacityWithWaterTData.determineHrlyCurtailmentsForNewTechs()</span></code>
and computes time series of available capacity (in MW) for all candidate technologies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>newTechsCE</strong> – (2d list) list with data for new technologies</p></li>
<li><p><strong>hrlyCurtailmentsAllTechsInTgtYr</strong> – (dict) a dictionary {gcm: {(techSymbol, cell): [hourly deratings as fraction of capacity]}}</p></li>
<li><p><strong>currYear</strong> – (int) current year</p></li>
<li><p><strong>ptCurtailedAll</strong> – (list) list with names of types of plants that are curtailed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(dict) a dictionary {gcm: {(techSymbol, cell): [hourly available capacity in MW]}}</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-thermalderatings.ModifyGeneratorCapacityWithWaterTData"></span><dl class="py function">
<dt id="thermalderatings.ModifyGeneratorCapacityWithWaterTData.determineHrlyCurtailmentsForExistingGens">
<code class="sig-name descname">determineHrlyCurtailmentsForExistingGens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">genFleet</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyGeneratorCapacityWithWaterTData.determineHrlyCurtailmentsForExistingGens" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes times series of hourly curtailments for all EXISTING generators</p>
<p>This is a wrapper function to do the computation using multiprocessing in python</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>genFleet</strong> – (list) 2d list with generator fleet data</p></li>
<li><p><strong>currYear</strong> – (integer) current year</p></li>
<li><p><strong>genparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple with:
* nested dictionary with {gcm: {orisId: [1d np array with hourly curtailments]}}
* list of (ORIS+UNIT,gen lat long, cell lat long)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.ModifyGeneratorCapacityWithWaterTData.worker_generator_curtailments">
<code class="sig-name descname">worker_generator_curtailments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">list_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyGeneratorCapacityWithWaterTData.worker_generator_curtailments" title="Permalink to this definition">¶</a></dt>
<dd><p>Worker function for using multiprocessing with function <a class="reference internal" href="#thermalderatings.ModifyGeneratorCapacityWithWaterTData.calculateGeneratorCurtailments" title="thermalderatings.ModifyGeneratorCapacityWithWaterTData.calculateGeneratorCurtailments"><code class="xref py py-func docutils literal notranslate"><span class="pre">calculateGeneratorCurtailments()</span></code></a></p>
<p><code class="docutils literal notranslate"><span class="pre">list_args</span></code>:</p>
<ul class="simple">
<li><p>(dict) dict of (cell lat, cell long):gen ID for all gens w/ lat/lon coords in genFleet</p></li>
<li><p>(int) current year</p></li>
<li><p>(2d list) generator fleet data</p></li>
<li><p>object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p>object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p>(string) name of gcm</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list_args</strong> – list with arguments for function</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary with {orisId: [1d np array with hourly curtailments]}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.ModifyGeneratorCapacityWithWaterTData.getGenToCellAndCellToGenDictionaries">
<code class="sig-name descname">getGenToCellAndCellToGenDictionaries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">genFleet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyGeneratorCapacityWithWaterTData.getGenToCellAndCellToGenDictionaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Map generators to and from VIC/RBM grid cells</p>
<p>Takes the 2d list with generator fleet data and creates dictionaries mapping individual plants to grid cells
lat and long</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>genFleet</strong> – (list) 2d list with generator fleet data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple with three elements:
* genToCellLatLongsDict: dictionary {gen:[gen,(gen lat, gen long), (cell lat, cell long)]}
* cellLatLongToGenDict:  dictionary {(cell lat, cell long):genID}
* genToCellLatLongsList: 2d list [[genID,(genlat,genlong),(celllat,celllong)]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.ModifyGeneratorCapacityWithWaterTData.calculateGeneratorCurtailments">
<code class="sig-name descname">calculateGeneratorCurtailments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cellLatLongToGenDict</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">genFleet</span></em>, <em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">gcm</span></em>, <em class="sig-param"><span class="n">netcdf</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyGeneratorCapacityWithWaterTData.calculateGeneratorCurtailments" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate capacity deratings of existing generators</p>
<p>This is the actual function that performs the computation of capacity deratings for existing generators. It performs
the computation for a climate conditions under a single climate simulation (defined by the parameter <cite>gcm</cite>).
If generator isn’t curtailed (not right plant type, cell data not avaialble, etc.), ignored here.
<code class="xref py py-func docutils literal notranslate"><span class="pre">CalculateHourlyCapacs()</span></code> script handles those cases (assume curtailment = 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cellLatLongToGenDict</strong> – (dict) dict of (cell lat, cell long):gen ID for all gens w/ lat/lon coords in genFleet, including gens that should nto be curtailed.</p></li>
<li><p><strong>currYear</strong> – (integer) current year</p></li>
<li><p><strong>genFleet</strong> – (list) 2d list with generator fleet</p></li>
<li><p><strong>genparam</strong> – object of type Generalparameter</p></li>
<li><p><strong>curtailparam</strong> – object of type Curtailmentoparameter</p></li>
<li><p><strong>gcm</strong> – </p></li>
<li><p><strong>netcdf</strong> – (boolean) True if data comes in netcdf format</p></li>
<li><p><strong>pbar</strong> – (boolean) True to show progress bar</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(dict) dictionary with {orisId: [1d np array with hourly curtailments]}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.ModifyGeneratorCapacityWithWaterTData.find125GridMaurerLatLong">
<code class="sig-name descname">find125GridMaurerLatLong</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lat</span></em>, <em class="sig-param"><span class="n">lon</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyGeneratorCapacityWithWaterTData.find125GridMaurerLatLong" title="Permalink to this definition">¶</a></dt>
<dd><p>Get (lat,lon) of 1/8 grid cell that a (lat, lon) point falls in</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat</strong> – (float) latitude value</p></li>
<li><p><strong>lon</strong> – (float) longitude value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple (lat_grid, long_grid) of grid cell that contains the point (lat,lon)</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-thermalderatings.ModifyNewTechCapacityWithWaterTData"></span><dl class="py function">
<dt id="thermalderatings.ModifyNewTechCapacityWithWaterTData.determineHrlyCurtailmentsForNewTechs">
<code class="sig-name descname">determineHrlyCurtailmentsForNewTechs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eligibleCellWaterTs</span></em>, <em class="sig-param"><span class="n">newTechsCE</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyNewTechCapacityWithWaterTData.determineHrlyCurtailmentsForNewTechs" title="Permalink to this definition">¶</a></dt>
<dd><p>Main wrapper function to compute deratings of candidate thermal technologies for capacity expansion simulation.</p>
<p>This function computes thermal deratings of candidate techs using parallel multiprocessing. It combines results from
all different GCMs into a single nested dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eligibleCellWaterTs</strong> – (dict) dictionary with time-series of water temperatures in each cell</p></li>
<li><p><strong>newTechsCE</strong> – (2d list) table of parameters of new techs</p></li>
<li><p><strong>currYear</strong> – (integer) current year of simulation</p></li>
<li><p><strong>genparam</strong> – object of class <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p><strong>curtailparam</strong> – object of class <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>pbar</strong> – (boolean) If True show progress bar</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>nested dict of {gcm: {(plant+cooltype,cell): [hrly tech curtailments]}}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.ModifyNewTechCapacityWithWaterTData.worker_new_tech_curtailments">
<code class="sig-name descname">worker_new_tech_curtailments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">list_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyNewTechCapacityWithWaterTData.worker_new_tech_curtailments" title="Permalink to this definition">¶</a></dt>
<dd><p>Worker function for using multiprocessing with function calculateGeneratorCurtailments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list_args</strong> – list with arguments for function (see <a class="reference internal" href="#thermalderatings.ModifyNewTechCapacityWithWaterTData.calculateTechsCurtailments" title="thermalderatings.ModifyNewTechCapacityWithWaterTData.calculateTechsCurtailments"><code class="xref py py-func docutils literal notranslate"><span class="pre">calculateTechsCurtailments()</span></code></a>)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of {(plant+cooltype,cell): [hrly tech curtailments]} (see function calculateGeneratorCurtailments)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.ModifyNewTechCapacityWithWaterTData.calculateTechsCurtailments">
<code class="sig-name descname">calculateTechsCurtailments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cellWaterTsForNewTechs</span></em>, <em class="sig-param"><span class="n">newTechsCE</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">gcm</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyNewTechCapacityWithWaterTData.calculateTechsCurtailments" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes deratings of candidate thermal technologies for capacity expansion simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cellWaterTsForNewTechs</strong> – dictionary with time-series of water temperatures in each cell</p></li>
<li><p><strong>newTechsCE</strong> – (2d list) table of parameters of new techs</p></li>
<li><p><strong>currYear</strong> – (integer) current year of simulation</p></li>
<li><p><strong>genparam</strong> – object of class <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p><strong>curtailparam</strong> – object of class <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>gcm</strong> – (string) name of GCM being simulated</p></li>
<li><p><strong>pbar</strong> – (boolean) show progress bar on standard output?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of {(plant+cooltype,cell): [hrly tech curtailments]}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.ModifyNewTechCapacityWithWaterTData.getWaterTsInCurrYear">
<code class="sig-name descname">getWaterTsInCurrYear</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">eligibleCellWaterTs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyNewTechCapacityWithWaterTData.getWaterTsInCurrYear" title="Permalink to this definition">¶</a></dt>
<dd><p>Isolate average water temps for current year for each cell</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>currYear</strong> – (integer) current year</p></li>
<li><p><strong>eligibleCellWaterTs</strong> – dictionary with time-series of water temperatures in each cell</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(dict) { cell folder name : [[Datetime],[AverageWaterT(degC)]]} filtered to current year only</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.ModifyNewTechCapacityWithWaterTData.selectCells">
<code class="sig-name descname">selectCells</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eligibleCellWaterTsCurrYear</span></em>, <em class="sig-param"><span class="n">cellNewTechCriteria</span></em>, <em class="sig-param"><span class="n">fipsToZones</span></em>, <em class="sig-param"><span class="n">fipsToPolys</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyNewTechCapacityWithWaterTData.selectCells" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter list of grid cells that can host new techs</p>
<p>This function filters the list of eligible cells and chooses only the ones with maximum water temperature in each zone if the criteria is ‘maxWaterT’</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">cellNewTechCriteria</span></code> is defined in the <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code> object. It accepts two options:</p>
<ul class="simple">
<li><p>‘all’: no filtering is applied. All eligible cells are considered</p></li>
<li><p>‘maxWaterT’: only the cell with maximum water temeprature in each zone is considered</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eligibleCellWaterTsCurrYear</strong> – dictionary with time-series of water temperatures in each cell</p></li>
<li><p><strong>cellNewTechCriteria</strong> – (string) cell filtering criteria</p></li>
<li><p><strong>fipsToZones</strong> – (dict) {fips: ipm zone name}</p></li>
<li><p><strong>fipsToPolys</strong> – (dict) {fips: polys object of each zone}</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary with time-series of water temperatures in each cell (subset of cells)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.ModifyNewTechCapacityWithWaterTData.getCellsInEachZone">
<code class="sig-name descname">getCellsInEachZone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eligibleCellWaterTsCurrYear</span></em>, <em class="sig-param"><span class="n">fipsToZones</span></em>, <em class="sig-param"><span class="n">fipsToPolys</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.ModifyNewTechCapacityWithWaterTData.getCellsInEachZone" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in dict of cell:waterTs, and returns dict of zone:all cells in that zone</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eligibleCellWaterTsCurrYear</strong> – </p></li>
<li><p><strong>fipsToZones</strong> – (dict) {fips: ipm zone name}</p></li>
<li><p><strong>fipsToPolys</strong> – (dict) {fips: polys object of each zone}</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of zone:all cells in that zone</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-thermalderatings.LoadEligibleCellWaterTs"></span><dl class="py function">
<dt id="thermalderatings.LoadEligibleCellWaterTs.loadEligibleCellWaterTs">
<code class="sig-name descname">loadEligibleCellWaterTs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">genFleet</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">netcdf</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">n_cells</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.LoadEligibleCellWaterTs.loadEligibleCellWaterTs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load daily average water temperatures for grid cells for current simulation year</p>
<p>This function selects the eligible grid cells that will be used in the analysis and loads the water data of current
simulation year.</p>
<p>Current options for which cells can host new plants:</p>
<ul class="simple">
<li><p>‘All’ (get all cell data)</p></li>
<li><p>‘WithGen’ (get data for cells that have generator inside at beginning of CE runs).</p></li>
<li><p>‘max_flow’ (get data for the first <code class="docutils literal notranslate"><span class="pre">n_cells</span></code> cells with max average flow in current year.).</p></li>
<li><p>‘macrocell’ (get data for cells defined in a file ‘macrocells.csv’ that defines the centers of spatial clusters of cells. This was done to decrease computational burden.).</p></li>
</ul>
<p>This option must be defined in the object <code class="docutils literal notranslate"><span class="pre">curtailparam</span></code> in the field <code class="docutils literal notranslate"><span class="pre">cellsEligibleForNewPlants</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>genFleet</strong> – (list) 2d list with generator fleet</p></li>
<li><p><strong>currYear</strong> – (integer) current year of simulation</p></li>
<li><p><strong>genparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>netcdf</strong> – (boolean) True if files are in netcdf format</p></li>
<li><p><strong>n_cells</strong> – (integer) number of cells to consider in ‘max_flow’ option</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of {cell folder name : [[Datetime],[AverageWaterT(degC)], [AirT], [flow]]}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.LoadEligibleCellWaterTs.setCellFolders">
<code class="sig-name descname">setCellFolders</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">genFleet</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">netcdf</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">n_cells</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.LoadEligibleCellWaterTs.setCellFolders" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of eligible cells with future data in each ipm zone</p>
<p>Current options for which cells can host new plants:</p>
<ul class="simple">
<li><p>‘All’ (get all cell data)</p></li>
<li><p>‘WithGen’ (get data for cells that have generator inside at beginning of CE runs).</p></li>
<li><p>‘max_flow’ (get data for the first <code class="docutils literal notranslate"><span class="pre">n_cells</span></code> cells with max average flow in current year.).</p></li>
<li><p>‘macrocell’ (get data for cells defined in a file ‘macrocells.csv’ that defines the centers of spatial clusters of cells. This was done to decrease computational burden.).</p></li>
</ul>
<p>This option must be defined in the object <code class="docutils literal notranslate"><span class="pre">curtailparam</span></code> in the field <code class="docutils literal notranslate"><span class="pre">cellsEligibleForNewPlants</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>genFleet</strong> – 2d list with generator fleet</p></li>
<li><p><strong>currYear</strong> – (integer) current year of simulation</p></li>
<li><p><strong>genparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>netcdf</strong> – (boolean) if true reads water data from NETCDF files (new format from August 2018)</p></li>
<li><p><strong>n_cells</strong> – (integer)  number of cells to consider in ‘max_flow’ option</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-thermalderatings.CurtailmentRegressions"></span><dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.setEnvRegCurtailments">
<code class="sig-name descname">setEnvRegCurtailments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coolType</span></em>, <em class="sig-param"><span class="n">capac</span></em>, <em class="sig-param"><span class="n">pt</span></em>, <em class="sig-param"><span class="n">ppDeltaT</span></em>, <em class="sig-param"><span class="n">metAndWaterData</span></em>, <em class="sig-param"><span class="n">maxT</span></em>, <em class="sig-param"><span class="n">streamAvailFrac</span></em>, <em class="sig-param"><span class="n">genparam</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.setEnvRegCurtailments" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate environmental regulatory curtailments for an individual plant</p>
<p>Calculate environmental regulatory curtailments for given time series of water temperatures and flows for a
single generator. Curtailment values are later multiplied by capacity in other functions to get available capacity
(so value output by this function of 0 means full curtailment).</p>
<p>This function is currently only used for plants with once through cooling since other types do not have substantial
amounts of water discharge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coolType</strong> – (string) cooling type</p></li>
<li><p><strong>capac</strong> – (numeric) capacity (MW)</p></li>
<li><p><strong>pt</strong> – (string) plant type</p></li>
<li><p><strong>ppDeltaT</strong> – (numeric) increase in temperature of power plants cooling system (design parameter of cooling system)</p></li>
<li><p><strong>metAndWaterData</strong> – (pandas data frame) water T data and water flow data (pd series of hourly data)</p></li>
<li><p><strong>maxT</strong> – (numeric) regulatory stream temperature threshold</p></li>
<li><p><strong>streamAvailFrac</strong> – (numeric) Maximum share of stream flow that can be used by power plant</p></li>
<li><p><strong>genparam</strong> – object of class General Parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(list) a 1-d list with capacity derating simulations (% of capacity)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.calculateMixedTemperature">
<code class="sig-name descname">calculateMixedTemperature</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.calculateMixedTemperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes final stream temperature after water discharge by power plant</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> – a list with stream T, stream flow, temperature rise through power plant cooling system, power plant discharge flow.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1d list with time series of final mixed stream T</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.calculateGeneratorDischargeFlow">
<code class="sig-name descname">calculateGeneratorDischargeFlow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coeffs</span></em>, <em class="sig-param"><span class="n">metAndWaterData</span></em>, <em class="sig-param"><span class="n">capacs</span></em>, <em class="sig-param"><span class="n">streamAvailFrac</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.calculateGeneratorDischargeFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes Generator discharge flow using Aviva’s regression</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coeffs</strong> – dictionary with regression coefficients for this power plant</p></li>
<li><p><strong>metAndWaterData</strong> – pandas data frame with meteo and water data for each period</p></li>
<li><p><strong>capacs</strong> – list of numpy arrays with capacity levels in MW for each period</p></li>
<li><p><strong>streamAvailFrac</strong> – Max share of stream flow that can be used by power plant (1d numpy array length n_hours)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2-d numpy array with water discharge in (gal) for each capacity level (num_per vs num_capacs)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.calcCurtailmentForGenOrTech">
<code class="sig-name descname">calcCurtailmentForGenOrTech</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plantType</span></em>, <em class="sig-param"><span class="n">fuelAndCoalType</span></em>, <em class="sig-param"><span class="n">coolType</span></em>, <em class="sig-param"><span class="n">state</span></em>, <em class="sig-param"><span class="n">capac</span></em>, <em class="sig-param"><span class="n">coolDesignT</span></em>, <em class="sig-param"><span class="n">metAndWaterData</span></em>, <em class="sig-param"><span class="n">coeffs</span></em>, <em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.calcCurtailmentForGenOrTech" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate overall curtailment for a single generator</p>
<p>This function combines capacity deratings with environmental curtailments to compute final hourly curtailment
values of a thermal generator.</p>
<p>Output 1d list of hourly final curtailments for year for given generator (or generator type) with or without
curtailments and/or environmental regulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plantType</strong> – (string) plant type</p></li>
<li><p><strong>fuelAndCoalType</strong> – (string) fuel type</p></li>
<li><p><strong>coolType</strong> – (string)  cooling type</p></li>
<li><p><strong>state</strong> – (string) state where plant is located</p></li>
<li><p><strong>capac</strong> – (number) capacity of plant</p></li>
<li><p><strong>coolDesignT</strong> – </p></li>
<li><p><strong>metAndWaterData</strong> – (pd data frame) data frame with meteo and water data</p></li>
<li><p><strong>coeffs</strong> – (dict) dictionary with curtailment regression coefficients (plantType,coolType,coolDesignT)</p></li>
<li><p><strong>genparam</strong> – object of class <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p><strong>curtailparam</strong> – object of class <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1d numpy array with final curtailments as percentage of capacity</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.runCurtailRegression">
<code class="sig-name descname">runCurtailRegression</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metAndWaterData</span></em>, <em class="sig-param"><span class="n">coeffs</span></em>, <em class="sig-param"><span class="n">incCurtailments</span></em>, <em class="sig-param"><span class="n">pt</span></em>, <em class="sig-param"><span class="n">coolType</span></em>, <em class="sig-param"><span class="n">ptCurtailed</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.runCurtailRegression" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute list with hourly thermal deratings for given plant</p>
<p>Output 1d list w/ hourly curtailment (% of capacity) for individual generator. It uses the results from
<a class="reference internal" href="#thermalderatings.CurtailmentRegressions.setAvivaCurtailments" title="thermalderatings.CurtailmentRegressions.setAvivaCurtailments"><code class="xref py py-func docutils literal notranslate"><span class="pre">setAvivaCurtailments()</span></code></a> and returns a 1-d list. This function controls if simulation is considering this
type of derating simulation (<cite>incCurtailments</cite>) and if the plant type is included in the list of plants that
should have derating simulation (<cite>ptCurtailed</cite>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metAndWaterData</strong> – (pd data frame) data frame with meteo and water data</p></li>
<li><p><strong>coeffs</strong> – (dict) dictionary with curtailment regression coefficients (plantType,coolType,coolDesignT)</p></li>
<li><p><strong>incCurtailments</strong> – (boolean) if true thermal curtailments are simulated</p></li>
<li><p><strong>pt</strong> – (string) type of power plant</p></li>
<li><p><strong>coolType</strong> – </p></li>
<li><p><strong>ptCurtailed</strong> – list with types of power plants for which curtailment is simulated</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list with hourly curtailment values (fraction of total capacity)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.setAvivaCurtailments">
<code class="sig-name descname">setAvivaCurtailments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coeffs</span></em>, <em class="sig-param"><span class="n">metAndWaterData</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.setAvivaCurtailments" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute thermal deratings using Aviva’s regression coefficients</p>
<p>Use Aviva’s regressions to curtail generation. Note that curtailment values are fraction of total capacity
(val of 0.3 means max capac is 30% of total capac).</p>
<p>see: <a class="reference external" href="http://link.springer.com/10.1007/s10584-020-02834-y">http://link.springer.com/10.1007/s10584-020-02834-y</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coeffs</strong> – dictionary with regression coefficients for this power plant</p></li>
<li><p><strong>metAndWaterData</strong> – pandas data frame with meteo and water data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array with hourly curtailment values (fraction of total capacity)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.loadRegCoeffs">
<code class="sig-name descname">loadRegCoeffs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataRoot</span></em>, <em class="sig-param"><span class="n">fname</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.loadRegCoeffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load regression coefficients from JSON file.</p>
<p>This function works for both available capacity (%) and water intensity (gal/MWh) files. These files are assumed
to be inside the folder /dataRoot/Curtailment/.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataRoot</strong> – root of data folder (see pdf ‘structure of data folder’ for more details on folder structure)</p></li>
<li><p><strong>fname</strong> – name of JSON file (with extension)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>nested dictionary of cooling type: reg coeffs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.getCoeffsForGenOrTech">
<code class="sig-name descname">getCoeffsForGenOrTech</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plantType</span></em>, <em class="sig-param"><span class="n">coolType</span></em>, <em class="sig-param"><span class="n">plantTypesCurtailed</span></em>, <em class="sig-param"><span class="n">regCoeffs</span></em>, <em class="sig-param"><span class="n">coolDesignT</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.getCoeffsForGenOrTech" title="Permalink to this definition">¶</a></dt>
<dd><p>Get coefficients for a particular generator or technology</p>
<p>If plant not eligible for curtailment or cool type not included in reg coeffs (e.g., wind),
assume no curtailment. See :func:loadRegCoeffs for structure of coeffs.</p>
<p>Inputs: parameters for getting reg coeffs, and regCoeffs (dict of cool type: cool design T: parameter:coefficient)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plantType</strong> – (string) with type of plant (‘Coal Steam’, ‘Hydro’, ‘Combined Cycle’, …)</p></li>
<li><p><strong>coolType</strong> – (string) cooling technology type</p></li>
<li><p><strong>plantTypesCurtailed</strong> – (list) list with plant types that are curtailed</p></li>
<li><p><strong>regCoeffs</strong> – (dict) nested dictionary with regression coefficient for all (plantType,coolType,coolDesignT)</p></li>
<li><p><strong>coolDesignT</strong> – (string) cooling technology design temperature</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(dict) dictionary with regression coeffs for this specific combination of (plantType,coolType,coolDesignT)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.getKeyCurtailParams">
<code class="sig-name descname">getKeyCurtailParams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gen</span></em>, <em class="sig-param"><span class="n">genFleet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.getKeyCurtailParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Get key parameters of individual generator</p>
<p>Reads data base of generators and returns Parameters that affect curtailment:
coal steam vs NGCC, bit vs. subbit vs. lignite, HR, once through vs. recirc vs. dry cooling,
wet FGD vs. lime spray dryer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gen</strong> – (string) id of generator</p></li>
<li><p><strong>genFleet</strong> – (2d list) generator fleet data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple with parameters of generator: (plantType, heat rate, fuel Type, cooling Type, scrubber type, state, capacity)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.getGenRowInFleet">
<code class="sig-name descname">getGenRowInFleet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gen</span></em>, <em class="sig-param"><span class="n">genFleet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.getGenRowInFleet" title="Permalink to this definition">¶</a></dt>
<dd><p>Get row with individual generator data in fleet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gen</strong> – (string) generator symbol</p></li>
<li><p><strong>genFleet</strong> – (2-d list) generator fleet data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(1-d list) individual plant data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.isolateFirstFuelType">
<code class="sig-name descname">isolateFirstFuelType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fuel</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.isolateFirstFuelType" title="Permalink to this definition">¶</a></dt>
<dd><p>Isolate first fuel name</p>
<p>Some plants have multiple modeled fuels divided by <cite>&amp;</cite> (e.g., Natural Gas &amp; Oil). This function gets the first one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fuel</strong> – (string) fuel type name (possibly multiple fuel types)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(string) single fuel type name</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.getCoolType">
<code class="sig-name descname">getCoolType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coolingType</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.getCoolType" title="Permalink to this definition">¶</a></dt>
<dd><p>Get standard cooling type name for simulation</p>
<p>This function get cooling type name in the generator fleet data and returns the cooling type using the convention
for this simulation (‘once through’, ‘dry cooling’, ‘recirculating’)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>coolingType</strong> – (string) name of cooling type in generator fleet data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(string) cooling type name for simulation</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.getSO2Control">
<code class="sig-name descname">getSO2Control</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">so2Control</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.getSO2Control" title="Permalink to this definition">¶</a></dt>
<dd><p>Get scrubber type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>so2Control</strong> – (string) name of so2 control tech</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(string) scrubber type (wet or dry)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.CurtailmentRegressions.getKeyCurtailParamsNewTechs">
<code class="sig-name descname">getKeyCurtailParamsNewTechs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">newTechsCE</span></em>, <em class="sig-param"><span class="n">techRow</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.CurtailmentRegressions.getKeyCurtailParamsNewTechs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get key parameters of tech for regression</p>
<p>Function returns the key parameters of individual <em>NEW</em> generators needed to do the curtailment simulations</p>
<p>:param newTechsCE:(2d list) list with new tech data
:param techRow: (1d list) row with individual plant type data
:return: (tuple) (plantType, heat rate, fuel Type, cooling Type, scrubber type, capacity, cooling design temperature)</p>
</dd></dl>

<span class="target" id="module-thermalderatings.AuxCurtailmentFuncs"></span><dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.loadWaterAndMetData">
<code class="sig-name descname">loadWaterAndMetData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">curtailmentYear</span></em>, <em class="sig-param"><span class="n">cellLat</span></em>, <em class="sig-param"><span class="n">cellLong</span></em>, <em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">gcm</span></em>, <em class="sig-param"><span class="n">metdatatot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">waterDatatot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">netcdf</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.loadWaterAndMetData" title="Permalink to this definition">¶</a></dt>
<dd><p>Load water and met data of a single cell (and a single gcm) on hourly basis for given year</p>
<p>This function can take dictionaries with previously loaded full gridded datasets of weather (<cite>metdatatot</cite>) and
water data (<cite>waterDatatot</cite>) and it filters the data of a single grid cell. If these dictionaries have not been
loaded previously, the function reads from the netcdf files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>curtailmentYear</strong> – (int) year of simulation</p></li>
<li><p><strong>cellLat</strong> – (float) latitude of grid cell</p></li>
<li><p><strong>cellLong</strong> – (float) longitude of grid cell</p></li>
<li><p><strong>genparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>gcm</strong> – (string) GCM name</p></li>
<li><p><strong>metdatatot</strong> – dict with pre-loaded complete meteo data from the netcdf file (see <a class="reference internal" href="#thermalderatings.AuxCurtailmentFuncs.read_netcdf_full" title="thermalderatings.AuxCurtailmentFuncs.read_netcdf_full"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_netcdf_full()</span></code></a>).
If this is <cite>None</cite> the function loads the data directly from the netcdf file (<a class="reference internal" href="#thermalderatings.AuxCurtailmentFuncs.read_netcdf" title="thermalderatings.AuxCurtailmentFuncs.read_netcdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_netcdf()</span></code></a>)</p></li>
<li><p><strong>waterDatatot</strong> – dict of {cell folder name : [[Datetime],[AverageWaterT(degC)], [AirT], [flow]]}. If value is
<cite>None</cite>, it loads data from netcdf file (see <a class="reference internal" href="#thermalderatings.AuxCurtailmentFuncs.read_waterdata_cell" title="thermalderatings.AuxCurtailmentFuncs.read_waterdata_cell"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_waterdata_cell()</span></code></a>)</p></li>
<li><p><strong>netcdf</strong> – (boolean) if true reads water data from NETCDF files (Old format does not work anymore)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>panda data frame with hourly water and weather data for given year and given cell</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.loadCellWaterTs">
<code class="sig-name descname">loadCellWaterTs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eligibleCellFolders</span></em>, <em class="sig-param"><span class="n">allCellFoldersInZone</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">gcm</span></em>, <em class="sig-param"><span class="n">currYear</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">netcdf</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.loadCellWaterTs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load water and weather data for all eligible grid cells in study</p>
<p>Returns dict of {cell folder name : [[Datetime, AverageWaterT(degC), flow]]}. Each element in the dictionary is a
2d list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eligibleCellFolders</strong> – (list) list with names of eligible cells for study</p></li>
<li><p><strong>allCellFoldersInZone</strong> – (list) list with names of cells inside zones included in study</p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>gcm</strong> – (string) name of gcm being imported</p></li>
<li><p><strong>currYear</strong> – (integer) year of data being imported. If None, imports all years</p></li>
<li><p><strong>netcdf</strong> – (boolean) if true reads water data from NETCDF files (new format from August 2018)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of {cell folder name : [[Datetime, AverageWaterT(degC), flow]]}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.read_netcdf_full">
<code class="sig-name descname">read_netcdf_full</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.read_netcdf_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads NETCDF file with meteo data for current year</p>
<p>This function reads the netcdf file and returns a dictionary with 1-d arrays of the dimension variables
(time, lat, lon) and 3-d arrays of weather and water data (air temp, air pressure, relative humidity).</p>
<p>It reads data for all cells. Netcdf files have data for a single year.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>currYear</strong> – (integer) current year</p></li>
<li><p><strong>fname</strong> – (string) full path to netcdf file</p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary with arrays of data {‘var name’: array}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.read_netcdf">
<code class="sig-name descname">read_netcdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cellLat</span></em>, <em class="sig-param"><span class="n">cellLon</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">gcm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.read_netcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads NETCDF file with meteo data for current year and gets data for specified cell</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cellLat</strong> – (numeric) latitude of cell</p></li>
<li><p><strong>cellLon</strong> – (numeric) longitude of cell</p></li>
<li><p><strong>currYear</strong> – (integer) current year</p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pandas data frame with hourly meteo data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.read_dict_netcdf">
<code class="sig-name descname">read_dict_netcdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cellLat</span></em>, <em class="sig-param"><span class="n">cellLon</span></em>, <em class="sig-param"><span class="n">meteoData</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.read_dict_netcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Get meteorological data for cell stored in a dictionary with full dataset from the netcdf file</p>
<p>see function <a class="reference internal" href="#thermalderatings.AuxCurtailmentFuncs.read_netcdf_full" title="thermalderatings.AuxCurtailmentFuncs.read_netcdf_full"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_netcdf_full()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cellLat</strong> – (numeric) latitude of cell</p></li>
<li><p><strong>cellLon</strong> – (numeric) longitude of cell</p></li>
<li><p><strong>meteoData</strong> – (dictionary) dictionary with complete meteo data from the netcdf file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pandas data frame with hourly meteo data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.get_all_cells_from_netcdf">
<code class="sig-name descname">get_all_cells_from_netcdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">gcm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.get_all_cells_from_netcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all cells from netcdf file</p>
<p>This function reads a netcdf file for the given gcm and returns a list with cells lat and longs as strings</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>gcm</strong> – (string) name of gcm</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list with cells lat and longs as strings</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.get_all_cells_in_zone">
<code class="sig-name descname">get_all_cells_in_zone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allCellFolders</span></em>, <em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.get_all_cells_in_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles list of cells that are inside the ipm zones</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>allCellFolders</strong> – list with all cells</p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>allCellFoldersInZone: list with all cells that are inside the ipm zones</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.read_waterdata_cell">
<code class="sig-name descname">read_waterdata_cell</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">cellLat</span></em>, <em class="sig-param"><span class="n">cellLon</span></em>, <em class="sig-param"><span class="n">gcm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.read_waterdata_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads netcdf file with water data and returns panda data frame for data for given cell</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>currYear</strong> – (int) current year</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data frame with following columns
* date: 1d array with dates
* lons: 1d array with longitude values
* lats: 1d array with latitude values</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.read_waterdata_netcdf">
<code class="sig-name descname">read_waterdata_netcdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">varname</span></em>, <em class="sig-param"><span class="n">curryear</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.read_waterdata_netcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads netcdf file with water data and returns arrays with data, lats and longs for given year</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> – (string) complete path fo netcdf file</p></li>
<li><p><strong>varname</strong> – (string) name of variable to load from netcdf file</p></li>
<li><p><strong>curryear</strong> – (int) current year</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple with following elements
* data_values: array with data values
* date: 1d array with dates
* lons: 1d array with longitude values
* lats: 1d array with latitude values</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.order_cells_by_flow">
<code class="sig-name descname">order_cells_by_flow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">genparam</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">currYear</span></em>, <em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">output_list</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.order_cells_by_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Order cells according to average annual water flow across all gcms</p>
<p>This function order cells in each zone according to annual average river flow. It returns the <cite>n</cite> cells with largest
flow as an ordered list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>genparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Generalparameters</span></code></p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>currYear</strong> – (int) current year in simulation</p></li>
<li><p><strong>n</strong> – (int) number of cells to consider</p></li>
<li><p><strong>output_list</strong> – (boolean) Type of output by zone. If True output is list of cells. If false, output is dataframe with cells and annual flows</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary with a list/dataframe for each zone (depending on output_list)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.convert_2dList_netcdf">
<code class="sig-name descname">convert_2dList_netcdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">listcurtail</span></em>, <em class="sig-param"><span class="n">curtailparam</span></em>, <em class="sig-param"><span class="n">fnameuw</span></em>, <em class="sig-param"><span class="n">fnameout</span><span class="o">=</span><span class="default_value">'~/test.nc'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.convert_2dList_netcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>This function converts a 2d list with new generator curtailments to a netcdf file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>listcurtail</strong> – (2d list) with curtailment data</p></li>
<li><p><strong>curtailparam</strong> – object of type <code class="xref py py-mod docutils literal notranslate"><span class="pre">Curtailmentparameters</span></code></p></li>
<li><p><strong>fnameuw</strong> – (string) name of netcdf file with original meteo data from UW (no path)</p></li>
<li><p><strong>fnameout</strong> – (string) name of resulting netcdf file that will be created (full path)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.expand_df_hourly">
<code class="sig-name descname">expand_df_hourly</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.expand_df_hourly" title="Permalink to this definition">¶</a></dt>
<dd><p>utility function to expand a daily data frame to hourly</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> – (pandas data frame) data frame with daily data (check names of columns)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data frame with hourly data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.createBaseFilenameToReadOrWrite">
<code class="sig-name descname">createBaseFilenameToReadOrWrite</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locPrecision</span></em>, <em class="sig-param"><span class="n">inputLat</span></em>, <em class="sig-param"><span class="n">inputLong</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.createBaseFilenameToReadOrWrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates string with name of folder with cell data</p>
<p>This function creates a string with the formatted name of the folder that contains the data
for the respective grid cell</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locPrecision</strong> – number of decimal digits in lat and long values</p></li>
<li><p><strong>inputLat</strong> – latitude of grid cell</p></li>
<li><p><strong>inputLong</strong> – longitude of grid cell</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>string with name of folder (e.g. 34.4375_-86.4375)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="thermalderatings.AuxCurtailmentFuncs.getCellLatAndLongFromFolderName">
<code class="sig-name descname">getCellLatAndLongFromFolderName</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dummyFolder</span></em><span class="sig-paren">)</span><a class="headerlink" href="#thermalderatings.AuxCurtailmentFuncs.getCellLatAndLongFromFolderName" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cell lat and long values from formatted string</p>
<p>This function splits a string with lat and long (format: ‘{lat}_{lon}’) into numeric lat and long values</p>
<p>See <a class="reference internal" href="#thermalderatings.AuxCurtailmentFuncs.createBaseFilenameToReadOrWrite" title="thermalderatings.AuxCurtailmentFuncs.createBaseFilenameToReadOrWrite"><code class="xref py py-func docutils literal notranslate"><span class="pre">createBaseFilenameToReadOrWrite()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dummyFolder</strong> – (string) string with lat an long values</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple with numeric values of lat and long</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Main%20Scripts/index.html" class="btn btn-neutral float-right" title="Main Scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Setup%20Fleet/index.html" class="btn btn-neutral float-left" title="Setup Fleet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>